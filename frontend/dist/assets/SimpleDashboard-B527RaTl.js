import{d as h,m as v,o as w,c as p,b as s,B as d,z as l,t as o,F as k,C as S,p as r,A as C,j as x,i as c,E as B}from"./index-BeQ_YpYi.js";import{u as j}from"./task-pjRFF-OE.js";const P={class:"min-h-screen bg-[#f8fafc]"},T={class:"fixed left-0 top-0 h-64 w-64 bg-secondary-800 text-white p-4"},N={class:"mt-4 space-y-2"},V={class:"ml-64 p-8"},z={class:"grid grid-cols-4 gap-6 mb-8"},D={class:"bg-white p-6 rounded-xl shadow-md"},E={class:"text-3xl font-bold text-secondary-900 mt-2"},F={class:"bg-white p-6 rounded-xl shadow-md"},L={class:"text-3xl font-bold text-primary-600 mt-2"},A={class:"bg-white p-6 rounded-xl shadow-md"},M={class:"text-3xl font-bold text-secondary-900 mt-2"},W={class:"bg-white p-6 rounded-xl shadow-md"},q={class:"text-3xl font-bold text-accent-600 mt-2"},G={class:"bg-white rounded-xl shadow-md p-6"},H={class:"space-y-4"},I={class:"flex items-center justify-between"},J={class:"font-semibold text-secondary-900"},K={class:"text-sm text-secondary-600"},O={class:"flex items-center gap-4"},Q={class:"text-sm text-secondary-600"},Y=h({__name:"SimpleDashboard",setup(R){const m=v(),u=j(),i=r(()=>m.projects),b=r(()=>u.tasks),g=r(()=>i.value.filter(e=>e.status==="active").length),y=r(()=>b.value.filter(e=>e.status==="done").length),_=e=>({planning:"计划中",active:"进行中",completed:"已完成","on-hold":"已暂停"})[e]||e,f=e=>({planning:"bg-info-100 text-info-700",active:"bg-primary-100 text-primary-700",completed:"bg-accent-100 text-accent-700","on-hold":"bg-warning-100 text-warning-700"})[e]||"bg-secondary-100 text-secondary-700";return w(async()=>{await Promise.all([m.loadProjects(),u.loadTasks()])}),(e,t)=>{const n=C("router-link");return x(),p("div",P,[s("aside",T,[t[4]||(t[4]=s("h2",{class:"text-xl font-bold"},"WBS 系统",-1)),s("nav",N,[d(n,{to:"/dashboard",class:"block py-2 hover:bg-secondary-700 rounded px-3"},{default:l(()=>[...t[0]||(t[0]=[c("仪表盘",-1)])]),_:1}),d(n,{to:"/projects",class:"block py-2 hover:bg-secondary-700 rounded px-3"},{default:l(()=>[...t[1]||(t[1]=[c("项目列表",-1)])]),_:1}),d(n,{to:"/team",class:"block py-2 hover:bg-secondary-700 rounded px-3"},{default:l(()=>[...t[2]||(t[2]=[c("团队",-1)])]),_:1}),d(n,{to:"/reports",class:"block py-2 hover:bg-secondary-700 rounded px-3"},{default:l(()=>[...t[3]||(t[3]=[c("报表",-1)])]),_:1})])]),s("main",V,[t[10]||(t[10]=s("h1",{class:"text-3xl font-bold text-secondary-900 mb-6"},"仪表盘",-1)),s("div",z,[s("div",D,[t[5]||(t[5]=s("p",{class:"text-sm text-secondary-600"},"总项目数",-1)),s("p",E,o(i.value.length),1)]),s("div",F,[t[6]||(t[6]=s("p",{class:"text-sm text-secondary-600"},"进行中",-1)),s("p",L,o(g.value),1)]),s("div",A,[t[7]||(t[7]=s("p",{class:"text-sm text-secondary-600"},"总任务数",-1)),s("p",M,o(b.value.length),1)]),s("div",W,[t[8]||(t[8]=s("p",{class:"text-sm text-secondary-600"},"已完成",-1)),s("p",q,o(y.value),1)])]),s("div",G,[t[9]||(t[9]=s("h2",{class:"text-xl font-bold text-secondary-900 mb-4"},"最近项目",-1)),s("div",H,[(x(!0),p(k,null,S(i.value.slice(0,5),a=>(x(),p("div",{key:a.id,class:"border-b border-secondary-200 pb-4 last:border-0"},[s("div",I,[s("div",null,[s("h3",J,o(a.name),1),s("p",K,o(a.description),1)]),s("div",O,[s("span",{class:B(["px-3 py-1 rounded-full text-sm",f(a.status)])},o(_(a.status)),3),s("span",Q,o(a.progress)+"%",1)])])]))),128))])])])])}}});export{Y as default};
